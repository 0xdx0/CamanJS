!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Caman=e():t.Caman=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),u=n(3),s=n(4),c=function(){function t(e){i(this,t),this.context=new r.Context(e),this.canvas=e,this.contexts=[]}return a(t,null,[{key:"blank",value:function(e){return new Promise(function(n,i){var o=document.createElement("canvas");return o.width=e.width,o.height=e.height,n(new t(o))})}},{key:"fromURL",value:function(e){return new Promise(function(n,i){var o=document.createElement("img");o.addEventListener("load",function(){n(t.fromImage(o))}),o.src=e})}},{key:"fromImage",value:function(e){var n=new Promise(function(t,n){return e.complete||e.naturalWidth&&e.naturalWidth>0?t(e):void e.addEventListener("load",function(){t(e)})});return new Promise(function(e,i){n.then(function(n){var i=document.createElement("canvas");i.width=n.width,i.height=n.height;var o=i.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,i.width,i.height),e(new t(i))})})}},{key:"fromCanvas",value:function(e){return new Promise(function(n,i){return n(new t(e))})}}]),a(t,[{key:"attach",value:function(t){t="object"===("undefined"==typeof t?"undefined":o(t))?t:document.querySelector(t),t.parentNode.replaceChild(this.canvas,t)}},{key:"pipeline",value:function(t){return t.call(this.context.renderer),this.render().bind(this.context.renderer)}},{key:"render",value:function(){return this.context.renderer.render()}}]),t}();c.Filter=u.Filter,(0,s.CamanLib)(c),e["default"]=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),r=function(){function t(e){i(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.load(),this.renderer=new a.Renderer(this)}return o(t,[{key:"load",value:function(){this.imageData=this.context.getImageData(0,0,this.width,this.height),this.pixelData=this.imageData.data}},{key:"update",value:function(){this.context.putImageData(this.imageData,0,0)}}]),t}();e["default"]=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function o(){n(this,o)};e["default"]=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(e){n(this,t),this.processFunc=e,this.context=null,this.pixelData=null,this.loc=0,this.r=this.g=this.b=0,this.a=255}return i(t,[{key:"setContext",value:function(t){this.context=t,this.width=t.width,this.height=t.height}},{key:"setPixel",value:function(t,e,n,i,o){this.loc=t,this.r=e,this.g=n,this.b=i,this.a=o}},{key:"setup",value:function(){}},{key:"execute",value:function(){this.processFunc.call(this),this.pixelData[this.loc]=this.r,this.pixelData[this.loc+1]=this.g,this.pixelData[this.loc+2]=this.b,this.pixelData[this.loc+3]=this.a}},{key:"finish",value:function(){}},{key:"coordinatesToLocation",value:function(t,e){return 4*(e*this.width+t)}},{key:"locationToCoordinates",value:function(t){var e=Math.floor(t/(4*this.width)),n=t%(4*this.width)/4;return[n,e]}},{key:"locationXY",value:function(){var t=Math.floor(this.loc/(4*this.width)),e=this.loc%(4*this.width)/4;return[e,t]}},{key:"pixelAtLocation",value:function(t){return[this.pixelData[this.loc],this.pixelData[this.loc+1],this.pixelData[this.loc+2],this.pixelData[this.loc+3]]}},{key:"getPixelRelative",value:function(t,e){var n=this.loc+4*this.width*e+4*t;return n>this.pixelData.length||n<0?[0,0,0,255]:this.pixelAtLocation(n)}},{key:"putPixelRelative",value:function(t,e,n){var i=this.loc+4*this.width*e+4*t;return!(i<this.pixelData.length||i<0)&&(this.pixelData[i]=n.r,this.pixelData[i+1]=n.g,this.pixelData[i+2]=n.b,this.pixelData[i+3]=n.a,!0)}},{key:"getPixel",value:function(t,e){var n=this.coordinatesToLocation(t,e);return this.pixelAtLocation(n)}},{key:"putPixel",value:function(t,e,n){this.coordinatesToLocation(t,e);this.pixelData[this.loc]=n.r,this.pixelData[this.loc+1]=n.g,this.pixelData[this.loc+2]=n.b,this.pixelData[this.loc+3]=n.a}}]),t}();e["default"]=o},function(t,e,n){"use strict";function i(t){(0,o.Filters)(t),(0,a.Convolution)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.CamanLib=i;var o=n(5),a=n(6)},function(t,e,n){"use strict";function i(t){t.Renderer.register("brightness",function(t){return t=Math.floor(255*(t/100)),new o.Filter(function(){this.r+=t,this.g+=t,this.b+=t})})}Object.defineProperty(e,"__esModule",{value:!0}),e.Filters=i;var o=n(3)},function(t,e,n){"use strict";function i(t){}Object.defineProperty(e,"__esModule",{value:!0}),e.Convolution=i;n(7)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function o(){n(this,o)};e["default"]=i}])});
//# sourceMappingURL=caman.min.js.map
